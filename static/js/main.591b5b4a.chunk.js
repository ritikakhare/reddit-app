(this["webpackJsonpreddit-app"]=this["webpackJsonpreddit-app"]||[]).push([[0],{17:function(e,t,n){e.exports=n(30)},22:function(e,t,n){},23:function(e,t,n){},30:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(3),o=n.n(s),c=(n(22),n(4)),i=n(5),l=n(9),u=n(8),d=n(6),h=(n(23),function(e){return{type:"SET_SUBREDDITS",subReddits:e}}),m=function(){return{type:"GET_SUBREDDITS_FAILED"}},p=n(7);var f=function(e){var t=null;return e.subreddits&&(t=e.subreddits.map((function(t){return r.a.createElement("li",{className:"ul-item",style:{backgroundColor:e.selectedRedditName===t.data.display_name&&"rgb(204, 168, 121)"},onClick:function(){return e.click(t.data.display_name)},key:t.data.id},t.data.display_name)}))),r.a.createElement(a.Fragment,null,r.a.createElement("ul",{className:"nolist"},e.subreddits.length>0&&r.a.createElement("li",{style:{fontWeight:"bold"}},"Sub Reddits"),t))},b=n(16);var E=function(e){var t,n=e.post,a=null===(t=n.data.preview)||void 0===t?void 0:t.images[0].source.url;return r.a.createElement("div",{className:"panel"},a&&r.a.createElement("img",{src:a,alt:"Loading..",style:{width:"20%",height:"20%"}}),r.a.createElement("p",null,n.data.title),r.a.createElement("p",null,"Author: ",n.data.author),r.a.createElement("a",{className:"button",href:n.data.url,target:"_blank",rel:"noopener noreferrer"},"Read Post"))};var g=function(e){var t=null,n=Object(a.useState)(""),s=Object(b.a)(n,2),o=s[0],c=s[1];return e.posts&&(t=e.posts.map((function(e){return r.a.createElement("div",{className:"outerContainer"},r.a.createElement("li",{className:"post-li",style:{backgroundColor:o===e.data.title&&"rgb(204, 168, 121)"},onClick:function(){return c(e.data.title)},key:e.data.id},e.data.title),o===e.data.title&&r.a.createElement(E,{selectedPost:o,post:e}))}))),r.a.createElement("ul",null,e.posts.length>0&&r.a.createElement("li",{className:"nolist",style:{fontWeight:"bold"}},"Posts"),t)},v=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){var e;return Object(c.a)(this,n),(e=t.call(this)).handleSearchText=function(t){e.setState({searchText:t.target.value}),13===t.charCode&&e.props.search(t.target.value)},e.handleSearch=function(){e.state.searchText?e.props.search(e.state.searchText):e.props.initSubReddits()},e.state={selectedRedditName:!1,searchText:""},e.getPostsForSubReddit=e.getPostsForSubReddit.bind(Object(d.a)(e)),e}return Object(i.a)(n,[{key:"componentDidMount",value:function(){this.props.initSubReddits()}},{key:"getPostsForSubReddit",value:function(e){e!==this.state.selectedRedditName&&this.props.getPosts(e),this.setState({selectedRedditName:e})}},{key:"render",value:function(){var e=this;return r.a.createElement(a.Fragment,null,!this.props.loading&&r.a.createElement("div",{className:"search"},r.a.createElement("input",{type:"text",onChange:function(t){return e.setState({searchText:t.target.value})}}),r.a.createElement("input",{type:"button",value:"Search",className:"searchButton",onClick:this.handleSearch})),r.a.createElement("div",{className:"reddit-container"},this.props.error&&r.a.createElement("div",null,"Please try after sometime"),this.props.loading&&r.a.createElement("div",{className:"loader"}),r.a.createElement(f,{className:"subreddit-container",selectedRedditName:this.state.selectedRedditName,subreddits:this.props.subreddits,click:this.getPostsForSubReddit}),r.a.createElement(g,{className:"posts-container",posts:this.props.posts})))}}]),n}(a.Component),S=Object(p.b)((function(e){var t=e.subReddits,n=e.posts;return{subreddits:t,error:e.error,posts:n,loading:e.loading}}),(function(e){return{getPosts:function(t){return e(function(e){var t="https://www.reddit.com/r/".concat(e,"/hot.json?raw_json=1");return function(e){fetch(t).then((function(e){return e.json()})).then((function(t){return e({type:"GET_POSTS",posts:t.data.children})})).catch((function(t){return e({type:"GET_POSTS_FAILED"})}))}}(t))},initSubReddits:function(){return e((function(e){fetch(" https://www.reddit.com/subreddits/popular.json?raw_json=1").then((function(e){return e.json()})).then((function(t){return e(h(t.data.children))})).catch((function(t){return e(m())}))}))},search:function(t){return e(function(e){return function(t){fetch("https://www.reddit.com/subreddits/search.json?q=".concat(e,"&raw_json=1")).then((function(e){return e.json()})).then((function(e){return t(h(e.data.children))})).catch((function(e){return t(m())}))}}(t))}}}))(v),j=function(e){Object(l.a)(n,e);var t=Object(u.a)(n);function n(){return Object(c.a)(this,n),t.apply(this,arguments)}return Object(i.a)(n,[{key:"render",value:function(){return r.a.createElement(a.Fragment,null,r.a.createElement("div",{className:"header"},r.a.createElement("h1",null,"Reddits")),r.a.createElement(S,{className:"reddit-container"}))}}]),n}(a.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var y=n(1),R=n(2),w={subReddits:[],posts:[],error:!1,loading:!0},T=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SUBREDDITS":return Object(R.a)({},e,{subReddits:t.subReddits,loading:!1,error:!1});case"GET_SUBREDDITS_FAILED":case"GET_POSTS_FAILED":return Object(R.a)({},e,{error:!0});case"GET_POSTS":return Object(R.a)({},e,{posts:t.posts,error:!1});default:return e}},N=n(15),O=Object(y.c)(T,Object(y.a)(N.a));o.a.render(r.a.createElement(p.a,{store:O},r.a.createElement(j,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[17,1,2]]]);
//# sourceMappingURL=main.591b5b4a.chunk.js.map